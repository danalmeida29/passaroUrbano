<div class="ordem-compra" *ngIf="idPedidoCompra === undefined" >

    <form [formGroup]="formulario" novalidate (ngSubmit)="confirmarCompra()">

        
        <pre>{{ formulario.value | json }}</pre>
        <pre>Formulario Valido: {{ formulario.valid | json }}</pre>
        <pre>Formulario Invalido: {{ formulario.invalid | json }}</pre>
        <h5>Dados para entrega</h5>
        <hr />

        <div class="form-row">

        <div class="form-group col-md-6">
            <input type="text" 
            class="form-control" 
            placeholder="Endereço" 
            autocomplete="off" 
            formControlName="endereco"
            >

            <small *ngIf="formulario.get('endereco')?.valid && formulario.get('endereco')?.touched" class="form-text text-success">Ok</small>
            <small *ngIf="!formulario.get('endereco')?.valid && formulario.get('endereco')?.touched" class="form-text text-danger">Endereço inválido</small>


        </div>

        <div class="form-group col-md-2" id="inputNumber">
            <input type="text" 
            class="form-control" 
            placeholder="Número" 
            autocomplete="off" 
            formControlName="numero"
            >

            <small *ngIf="formulario.get('numero')?.valid && formulario.get('numero')?.touched" class="form-text text-success">Ok</small>
            <small *ngIf="!formulario.get('numero')?.valid && formulario.get('numero')?.touched" class="form-text text-danger">Número inválido</small>

        </div>

        <div class="form-group col-md-4">
            <input type="text" 
            class="form-control" 
            placeholder="Complemento" 
            autocomplete="off"
            formControlName="complemento"
            >
            <small *ngIf="formulario.get('complemento')?.valid && formulario.get('complemento')?.touched" class="form-text text-success">Ok</small>

        </div>

        </div>
        <br />

        
        <h5>Dados de pagamento</h5>
        <hr />

        <div class="form-row">
            
            <div class="form-group col-md-3">
                <select class="form-control"
                formControlName="formaDePagamento"
                >
            
                <option value="">Selecione uma opção</option>
                <option value="dinheiro" >Dinheiro</option>
                <option value="debito" >Débito</option>
                </select>

                <small *ngIf="formulario.get('formaDePagamento')?.valid && formulario.get('formaDePagamento')?.touched" class="form-text text-success">Ok</small>
                <small *ngIf="!formulario.get('formaDePagamento')?.valid && formulario.get('formaDePagamento')?.touched" class="form-text text-danger">Opção inválida</small>
    
            </div>
        </div>

        <hr />
        <button type="submit"
        class="btn btn-primary btn-lg"
        >Cofirmar compra</button>
    </form>
</div>
<div class="ordem-compra" *ngIf="idPedidoCompra !== undefined">
    <app-ordem-compra-sucesso [idPedidoCompra]="idPedidoCompra"></app-ordem-compra-sucesso>
</div>
