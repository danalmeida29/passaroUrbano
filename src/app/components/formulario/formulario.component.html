<div class="ordem-compra" *ngIf="idPedidoCompra === undefined"></div>

<form>
    <h5>Dados de pagamento</h5>
    <hr />

    <div class="form-row">

    <div class="form-group col-md-6">
        <input type="text" 
        class="form-control {{ enderecoEstadoInicial ? '' : (enderecoValidado ? 'is-valid' : 'is-invalid')}}" 
        placeholder="Endereço" 
        autocomplete="off" 
        minlength="5" 
        required
        [value]="endereco"
        #inputEndereco
        (input)="atualizarEndereco(inputEndereco.value)">

        <div *ngIf="enderecoEstadoInicial == false">
        <div *ngIf="enderecoValidado;else msgEnderecoInvalido">
            <small class="form-text text-success">Ok</small>
        </div>
        <ng-template #msgEnderecoInvalido>
            <small class="form-text text-danger">Endereço inválido</small>
        </ng-template>
        </div>
    </div>

    <div class="form-group col-md-2" id="inputNumber">
        <input type="text" 
        class="form-control {{ numeroEstadoInicial ? '' : (numeroValidado ? 'is-valid' : 'is-invalid')}}" 
        placeholder="Número" 
        autocomplete="off" 
        minlength="1" 
        required
        [value]="numero"
        #inputNumero
        (input)="atualizarNumero(inputNumero.value)">
        <div *ngIf="numeroEstadoInicial == false">
        <div *ngIf="numeroValidado;else msgNumeroInvalido">
            <small class="form-text text-success">Ok</small>
        </div>
        <ng-template #msgNumeroInvalido>
            <small class="form-text text-danger">Número inválido</small>
        </ng-template>
        </div>
    </div>

    <div class="form-group col-md-4">
        <input type="text" 
        class="form-control {{ complementoEstadoInicial ? '' : (complementoValidado ? 'is-valid' : '')}}" 
        placeholder="Complemento" 
        autocomplete="off"
        [value]="complemento"
        #inputComplemento
        (input)="atualizarComplemento(inputComplemento.value)">
        <div *ngIf="complementoEstadoInicial == false">
        <div *ngIf="complementoValidado">
            <small class="form-text text-success">Ok</small>
        </div>
        </div>
    </div>

    </div>
    <br />

    <h5>Dados de pagamento</h5>
    <hr />

    <div class="form-row">
        
    <div class="form-group col-md-3">
        <select class="form-control {{ formaDePagamentoEstadoInicial ? '' : (formaDePagamentoValidado ? 'is-valid' : 'is-invalid')}}"
        #selectFormaDePegamento
        (change)="atualizarFormaDePegamento(selectFormaDePegamento.value)"
        required>
        <option value="">Selecione uma opção</option>
        <option value="dinheiro" selected="{{formaDePagamento == 'dinheiro' ? 'selected' : '' }}">Dinheiro</option>
        <option value="debito" selected="{{formaDePagamento == 'debito' ? 'selected' : '' }}">Débito</option>
        </select>
        <div *ngIf="formaDePagamentoEstadoInicial == false">
        <div *ngIf="formaDePagamentoValidado;else msgFormaDePagamentoInvalido">
            <small class="form-text text-success">Ok</small>
        </div>
        <ng-template #msgFormaDePagamentoInvalido>
            <small class="form-text text-danger">Selecione uma forma de pagamento</small>
        </ng-template>
        </div>
    </div>
    </div>

    <hr />
    <button type="submit"
    class="btn btn-primary btn-lg"
    [disabled]="!formEstado"
    (click)="confirmarPedido()"
    >Cofirmar compra</button>
</form>
<div class="ordem-compra" *ngIf="idPedidoCompra !== undefined">
    <app-ordem-compra-sucesso [idPedidoCompra]="idPedidoCompra"></app-ordem-compra-sucesso>
</div>
